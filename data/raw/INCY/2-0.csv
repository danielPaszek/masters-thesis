,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands",12 Months Ended,12 Months Ended,12 Months Ended
,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands","Dec. 31, 2022","Dec. 31, 2021","Dec. 31, 2020"
0,Revenues:,,,
1,Total revenues,"$ 3,394,635","$ 2,986,267","$ 2,666,702"
2,Costs and expenses:,,,
3,Cost of product revenues (including definite-lived intangible amortization),206997,150991,131328
4,Research and development,1585936,1458179,2215942
5,"Selling, general and administrative",1002140,739560,516922
6,Loss on change in fair value of acquisition-related contingent consideration,12149,14741,23385
7,(Profit) and loss sharing under collaboration agreements,7973,37019,42801
8,Total costs and expenses,2815195,2400490,2930378
9,Income (loss) from operations,579440,585777,"(263,676)"
10,"Other income (expense), net",39932,10647,23206
11,Interest expense,"(2,666)","(1,908)","(2,174)"
12,Unrealized (loss) gain on long term investments,"(87,590)","(24,072)",10426
13,Income (loss) before provision (benefit) for income taxes,529116,570444,"(232,218)"
14,Provision (benefit) for income taxes,188456,"(378,137)",63479
15,Net income (loss),"$ 340,660","$ 948,581","$ (295,697)"
16,Net income (loss) per share:,,,
17,Basic (in dollars per share),$ 1.53,$ 4.30,$ (1.36)
18,Diluted (in dollars per share),$ 1.52,$ 4.27,$ (1.36)
19,Shares used in computing net income (loss) per share:,,,
20,Weighted average common shares outstanding (in shares),222004,220428,218073
21,Diluted (in shares),223958,222074,218073
22,"Product revenues, net",,,
23,Revenues:,,,
24,Total revenues,"$ 2,746,897","$ 2,322,012","$ 2,068,736"
25,Product royalty revenues,,,
26,Revenues:,,,
27,Total revenues,482738,569255,392966
28,Milestone and contract revenues,,,
29,Revenues:,,,
30,Total revenues,"$ 165,000","$ 95,000","$ 205,000"
