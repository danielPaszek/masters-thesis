,CONDENSED CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  $ in Thousands,12 Months Ended,12 Months Ended,12 Months Ended
,CONDENSED CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  $ in Thousands,"Dec. 31, 2017","Dec. 31, 2016","Dec. 31, 2015"
0,Revenues:,,,
1,"Product revenues, net","$ 1,200,312","$ 882,404","$ 601,015"
2,Product royalty revenues,160791,110711,74821
3,Milestone and contract revenues,175000,112512,77857
4,Other revenues,113,92,58
5,Total revenues,1536216,1105719,753751
6,Costs and expenses:,,,
7,Cost of product revenues (including definite-lived intangible amortization),79479,58187,26972
8,Research and development,1326361,581861,479514
9,"Selling, general and administrative",366406,303251,196614
10,Change in fair value of acquisition-related contingent consideration,7704,17422,
11,Total costs and expenses,1779950,960721,703100
12,Income (loss) from operations,"(243,734)",144998,50651
13,"Interest and other income, net",17500,4412,7089
14,Interest expense,"(6,900)","(38,745)","(45,603)"
15,Unrealized loss on long term investments,"(24,275)","(3,261)","(4,581)"
16,Expense related to senior note conversions,"(54,881)",,
17,Income (loss) before provision for income taxes,"(312,290)",107404,7556
18,Provision for income taxes,852,3182,1025
19,Net income (loss),"$ (313,142)","$ 104,222","$ 6,531"
20,Net income (loss) per share:,,,
21,Basic,$ (1.53),$ 0.55,$ 0.04
22,Diluted,$ (1.53),$ 0.54,$ 0.03
23,Shares used in computing net income (loss) per share:,,,
24,Basic,204580000,187873000,179601000
25,Diluted,204580000,194125000,187302000
