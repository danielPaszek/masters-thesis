,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands",12 Months Ended,12 Months Ended,12 Months Ended
,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands","Dec. 31, 2019","Dec. 31, 2018","Dec. 31, 2017"
0,Income Statement [Abstract],,,
1,Gain (Loss) on Sale of Assets and Asset Impairment Charges,"$ 22,990",$ 0,$ 0
2,Net revenues,2406796,1966492,1473413
3,Cost of net revenues,662899,518625,356466
4,Gross profit,1743897,1447867,1116947
5,Operating expenses:,,,
6,"Selling, general and administrative",1072053,852404,665777
7,Research and development,157361,128899,97559
8,Impairments and other (gains) charges,28498,0,0
9,Litigation settlement gain,"(51,000)",0,0
10,Total operating expenses,1201404,981303,763336
11,Income from operations,542493,466564,353611
12,Interest income,12482,8576,6948
13,"Other income (expense), net",7676,"(8,489)",4240
14,Net income before provision for income taxes and equity in losses of investee,562651,466651,364799
15,Provision for income taxes,112347,57723,130162
16,"Equity in losses of investee, net of tax",7528,8693,3219
17,Net income,"$ 442,776","$ 400,235","$ 231,418"
18,Net income per share:,,,
19,Basic (usd per share),$ 5.57,$ 5.00,$ 2.89
20,Diluted (usd per share),$ 5.53,$ 4.92,$ 2.83
21,Shares used in computing net income per share:,,,
22,Basic (shares),79424,80064,80085
23,Diluted (shares),80100,81357,81832
