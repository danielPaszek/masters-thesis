,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands",12 Months Ended,12 Months Ended,12 Months Ended
,"CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($)  shares in Thousands, $ in Thousands","Dec. 31, 2020","Dec. 31, 2019","Dec. 31, 2018"
0,Income Statement [Abstract],,,
1,Net revenues,"$ 2,471,941","$ 2,406,796","$ 1,966,492"
2,Cost of net revenues,708706,662899,518625
3,Gross profit,1763235,1743897,1447867
4,"Selling, General and Administrative Expense",1200757,1072053,852404
5,Operating expenses:,,,
6,Research and development,175307,157361,128899
7,"Impairments and other charges (gains), net",0,22990,0
8,Litigation settlement gain,0,"(51,000)",0
9,Total operating expenses,1376064,1201404,981303
10,Income from operations,387171,542493,466564
11,Interest income,3125,12482,8576
12,"Other income (expense), net","(11,347)",7676,"(8,489)"
13,"Interest Income and Other Income (Expense), Net","(8,222)",20158,87
14,Net income before provision for (benefit from) income taxes and equity in losses of investee,378949,562651,466651
15,Provision for (benefit from) income taxes,"(1,396,939)",112347,57723
16,"Equity in losses of investee, net of tax",0,7528,8693
17,Net income,"$ 1,775,888","$ 442,776","$ 400,235"
18,Net income per share:,,,
19,Basic (usd per share),$ 22.55,$ 5.57,$ 5.00
20,Diluted (usd per share),$ 22.41,$ 5.53,$ 4.92
21,Shares used in computing net income per share:,,,
22,Basic (shares),78760,79424,80064
23,Diluted (shares),79230,80100,81357
