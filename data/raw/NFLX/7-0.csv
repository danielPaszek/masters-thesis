,"Consolidated Statements of Operations - USD ($)  shares in Thousands, $ in Thousands",12 Months Ended,12 Months Ended,12 Months Ended
,"Consolidated Statements of Operations - USD ($)  shares in Thousands, $ in Thousands","Dec. 31, 2017","Dec. 31, 2016","Dec. 31, 2015"
0,Income Statement [Abstract],,,
1,Revenues,"$ 11,692,713","$ 8,830,669","$ 6,779,511"
2,Cost of revenues,7659666,6029901,4591476
3,Marketing,1278022,991078,824092
4,Technology and development,1052778,852098,650788
5,General and administrative,863568,577799,407329
6,Operating income,838679,379793,305826
7,Other income (expense):,,,
8,Interest expense,"(238,204)","(150,114)","(132,716)"
9,Interest and other income (expense),"(115,154)",30828,"(31,225)"
10,Income before income taxes,485321,260507,141885
11,Provision for (benefit from) income taxes,"(73,608)",73829,19244
12,Net income,"$ 558,929","$ 186,678","$ 122,641"
13,Earnings per share:,,,
14,Basic (in USD per share),$ 1.29,$ 0.44,$ 0.29
15,Diluted (in USD per share),$ 1.25,$ 0.43,$ 0.28
16,Weighted-average common shares outstanding:,,,
17,Basic (in shares),431885,428822,425889
18,Diluted (in shares),446814,438652,436456
